!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).NumberFormatter=t()}(this,(function(){"use strict";const e=e=>e.replace(/[-/\\^$*+?.()|[]{}]/g,"\\$&");return class{#e;#t;#r=1;#s=2;group="";decimal=".";constructor(t,r){this.#e=new Intl.NumberFormat(t,r);const s=this.#e.formatToParts(-10000000.1);for(const e of s)switch(e.type){case"group":this.group=e.value;break;case"decimal":this.decimal=e.value}const i=new Intl.NumberFormat(t);this.digits=new Array(10).fill().map(((e,t)=>i.format(t)));const o=e(this.decimal),n=`[${this.digits.map(e).join("")}]`,a=e(this.group),u=this.group?`(?:${n}{1,3}${a})*${n}{1,3}(?:${o}${n}+)?`:`${n}+(?:${o}${n}+)?`;let m=!1,c="";for(const t of s)switch(t.type){case"literal":case"currency":c+=`(?:${e(t.value)})?`;break;case"minusSign":m&&(this.#r=2,this.#s=1),c+=`(${e(t.value)})?`;break;case"integer":m||(m=!0,c+=`(${u})`)}this.#t=new RegExp(c)}format(e){return this.#e.format(e)}formatToParts(e){return this.#e.formatToParts(e)}parse(e){const t=this.#t.exec(e);if(!t)throw new Error("Invalid number string");let r="";return t[this.#r]&&(r+="-"),r+=t[this.#s].replace(/./g,(e=>this.digits.includes(e)?this.digits.indexOf(e):e===this.decimal?".":"")),parseFloat(r)}resolvedOptions(){return this.#e.resolvedOptions()}static supportedLocalesOf(e,t){return Intl.NumberFormat.supportedLocalesOf(e,t)}}}));